"use strict";var u2bear=angular.module("u2bear.directives",[]),directives={};directives.titleBar=function(){return{restrict:"E",templateUrl:"views/titleBar.html",replace:!0}},directives.playerBar=function(){return{restrict:"E",templateUrl:"views/playerBar.html",replace:!0}},directives.cheetsheet=function(){return{restrict:"E",templateUrl:"views/cheetsheet.html",replace:!0}},directives.playerContainer=function(){return{restrict:"E",template:"<video id='player' class='video-js vjs-default-skin' controls preload='none' width='' height=''poster='u2bearFlat.png' data-setup='{}'><source id='source' src='' type='video/mp4' /></video>",link:function(e){videojs("player").on("ended",function(){e.nextVideo(),e.$apply()}),$("#search").focus()}}},directives.scroll=function(){return{restrict:"A",link:function(e,t,r){t.bind("scroll",function(){e.stoppedLoading&&t[0].scrollHeight-t.scrollTop()<=t.outerHeight()+350&&-1==e.searchPhrase.indexOf("https://www.youtube.com/watch?v=")&&-1==e.searchPhrase.indexOf("http://www.youtube.com/watch?v=")&&e.$apply(function(){e.$eval(r.scroll)})})}}},directives.autoFocus=["$timeout",function(e){return{restrict:"A",link:function(t,r,i){t.$watch(i.autoFocus,function(r,i){if(t.displayedVids[r]){i>-1&&t.displayedVids[i].overlay&&(t.displayedVids[i].overlay=t.displayedVids[i].overlay.replace(" selected","")),r>-1&&r<t.displayedVids.length&&(t.displayedVids[r].overlay?t.displayedVids[r].overlay+=" selected":t.displayedVids[r].overlay=" selected");var s=Math.floor($("#resultContainer").width()/$(".result").outerWidth(!0)),l=Math.floor(r/s);$("#resultContainer").animate({scrollTop:l*$(".result").outerHeight(!0)},300),e(function(){$(".overlay.selected .fa-film,.fa-play").focus()},15)}})}}}],directives.enter=function(){return{restrict:"A",link:function(e,t,r){t.bind("keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(r.enter)}),t.preventDefault())})}}},u2bear.directive(directives);